# Резервирование кодов под Задание

В системе предусмотрена возможность работы с буфером кодов, то есть со свободным остатком.

На **первом шаге** выполняется **заказ кодов в систему** без основания - таким образом формируется буфер.

На **втором шаге** производится **резерв кодов** из буфера **под конкретное задание**.

Для резервирования кодов из свободного остатка под конкретное Задание на маркировку необходимо:

- Открыть необходимое **"Задание на маркировку ИС МП"** и нажимаем команду **"Управление резервом кодов"**
[![2021-08-23_15-36-24][2021-08-23_15-36-24]][2021-08-23_15-36-24]

- Нажав на гиперссылку **"Настройки"** в верхней части формы откроется окно на котором можно выбрать **"Стратегию подбора"**, а также указать **"Остаточный срок жизни кода (количество дней)"**
[![2021-08-23_16-06-26][2021-08-23_16-06-26]][2021-08-23_16-06-26]

  - **"Стратегия подбора"**

    >*"Самые старые"* при подборе кодов будут использованы сначала самые старые
    
    >*"Самые свежие"* при подборе кодов будут использованы сначала самые свежие
  
    [![2021-08-23_16-06-28][2021-08-23_16-06-28]][2021-08-23_16-06-28]

  - **"Остаточный срок жизни кода (количество дней)"**

    При установке параметра в подсчете свободного остатка не будут учитываться коды, у которых остаточный срок жизни составляет меньше указанного значения.
  
    [![2021-08-23_16-06-27][2021-08-23_16-06-27]][2021-08-23_16-06-27]

- На в форме резервирования мы видим информацию о количестве кодов в разрезе номенклатуры и характеристики:
[![2021-08-23_16-06-25][2021-08-23_16-06-25]][2021-08-23_16-06-25]
  - В задании - количество кодов необходимое для выполнения задания
  - В резерве - количество кодов закрепленное за этим заданием в пуле кодов
  - Свободно - количество кодов в буфере
  - Добавить к резерву - количество, которое после сохранения будет добавлено к количеству "В резерве"

- Для добавления кодов вводим в поле **"Добавить к резерву"** необходимое количество и нажимаем **"Сохранить"**.
[![2021-08-23_15-55-36][2021-08-23_15-55-36]][2021-08-23_15-55-36]

- Заполнить необходимое количество можно с помощью команды **"Заполнить выделенное"** (заполняться только выделенные строки) или **"Заполнить все"**. При выборе варианта заполнения поле **"Добавить к резерву"** будет заполнено соответствующим образом:
[![2021-08-23_15-48-38][2021-08-23_15-48-38]][2021-08-23_15-48-38]
  - Необходимым количеством - количество к резерву будет рассчитано как *"в задании - в резерве"*
  - Необходимым количеством с запасов в процентах - это необходимое количество увеличенное на выбранный процент
  - Необходимым количеством с запасов в штуках- это необходимое количество увеличенное на выбранное количество штук

- После сохранения изменится количество в поле **"В резерве"**. В результате резервирования в "пуле кодов", для зарезервированных кодов, будет заполнено поле "Документ основание".
[![2021-08-23_15-58-18][2021-08-23_15-58-18]][2021-08-23_15-58-18]

[2021-08-23_15-36-24]: CodeReservation.assets/2021-08-23_15-36-24.png
[2021-08-23_15-55-36]: CodeReservation.assets/2021-08-23_15-55-36.png
[2021-08-23_16-06-25]: CodeReservation.assets/2021-08-23_16-06-25.png
[2021-08-23_15-48-38]: CodeReservation.assets/2021-08-23_15-48-38.png
[2021-08-23_15-58-18]: CodeReservation.assets/2021-08-23_15-58-18.png
[2021-08-23_16-06-26]: CodeReservation.assets/2021-08-23_16-06-26.png
[2021-08-23_16-06-27]: CodeReservation.assets/2021-08-23_16-06-27.png
[2021-08-23_16-06-28]: CodeReservation.assets/2021-08-23_16-06-28.png